- 将商品查找函数findCommodityById修改为返回商品在数组中的索引位置 

	```cpp
	int findCommodityById (CommodityInfo *pCommodities,
						   int num, long id){
		int index=0;
		for(;index<num;index++){
			if((pCommodities+index)->id==id){
				return index;
			}
		}
		return NOT_FOUND;
	}
	```

	使用常量NOT_FOUND表示没有找到的返回值, 定义在`help.h`中, 避免使用Magic Number

- 修改了调用findCommodityById的3个函数:

	```cpp
	void addCommodity(CommodityInfo *&pCommodities, int &num){
		int id;
		cout<<" 输入商品编号(id): ";
		cin>>id;
		int index=findCommodityById(pCommodities,num,id);
	
		CommodityInfo *pCommodity=nullptr;
	
		if(index!=NOT_FOUND){//找到商品，累加数量
			pCommodity=pCommodities+index;
			cout<<"编号为"<<id<<"的商品已经存在!\n";
			cout<<"请输入增加的商品数量: ";
			int number;
			cin>>number;
			pCommodity->num+=number;
			return;
		}
		if(num==maxCommodityNum){
			reAllocMemory(pCommodities,num);
		}
		pCommodity = &pCommodities[num];
		pCommodity->id=id;
		setCommodityInfo(pCommodity);
		num++;
		cout<<"商品添加成功!\n\n";
	}
	```

	```cpp
	void removeCommodity(CommodityInfo *pCommodities, int &num){
		int id;
		cout<<" 输入商品编号(id): ";
		cin>>id;
		CommodityInfo *pCommodity=nullptr;
		int index=findCommodityById(pCommodities,num,id);
		if(index==NOT_FOUND){
			cout<<"编号为"<<id<<"的商品不存在!\n\n";
			return;
		}else{
			pCommodity=pCommodities+index;
		}
		num--;
		CommodityInfo *pNext=pCommodity+1;
		while(pCommodity < pCommodities + num){
			pCommodity->id=pNext->id;
			pCommodity->name=pNext->name;
			pCommodity->price=pNext->price;
			pCommodity->num=pNext->num;
			pCommodity->discount=pNext->discount;
			pCommodity++;
			pNext++;
		}
		cout<<"商品移除成功!\n\n";
	}
	```

	```cpp
	void viewCommodity(CommodityInfo *pCommodities, int num){
		int id;
		cout<<" 输入商品的编号(id): ";
		cin>>id;
		CommodityInfo *pCommodity=nullptr;
		int index=findCommodityById(pCommodities,num,id);
		if(index==NOT_FOUND){
			cout<<"编号为"<<id<<"的商品不存在!\n\n";
			return;
		}else{
			pCommodity=pCommodities+index;
		}
		showCommodityInfo(pCommodity);
		cout<<endl;
	}
	```

	

